# SonarCloud 项目配置文件
# 万里在线教育平台后端项目

# 项目基本信息
sonar.projectKey=wanli-education-backend
sonar.projectName=万里在线教育平台后端
sonar.projectVersion=1.0.0
sonar.projectDescription=万里在线教育平台后端API服务

# SonarCloud 组织信息
# 注意：实际使用时需要替换为您的SonarCloud组织key
sonar.organization=jameswuvip

# SonarCloud 服务器配置
# SonarCloud 使用固定的服务器地址
sonar.host.url=https://sonarcloud.io
# Token 通过环境变量或 GitHub Secrets 提供
sonar.login=${SONAR_TOKEN}

# 源代码配置
sonar.sources=src/main/java
sonar.tests=src/test/java
sonar.java.source=17
sonar.java.target=17

# 编码格式
sonar.sourceEncoding=UTF-8

# 排除文件
sonar.exclusions=**/*Application.java,**/config/**,**/dto/**,**/entity/**
sonar.test.exclusions=**/test/**

# 覆盖率报告路径
sonar.java.coveragePlugin=jacoco
sonar.jacoco.reportPaths=target/jacoco.exec
sonar.coverage.jacoco.xmlReportPaths=target/site/jacoco/jacoco.xml

# 质量门规则
# 代码覆盖率要求
sonar.coverage.exclusions=**/*Application.java,**/config/**,**/dto/**,**/entity/**,**/exception/**

# 重复代码检测
sonar.cpd.java.minimumtokens=50

# 代码复杂度
sonar.java.cyclomaticComplexity.maximum=10

# 安全规则
sonar.security.hotspots.inheritFromParent=true

# 维护性规则
sonar.maintainability.rating=A

# 可靠性规则
sonar.reliability.rating=A

# 安全性规则
sonar.security.rating=A

# 技术债务
sonar.technicalDebt.ratingGrid=0.05,0.1,0.2,0.5

# 问题严重程度
sonar.issue.ignore.multicriteria=e1,e2,e3

# 忽略某些规则（根据项目需要调整）
# 忽略实体类的getter/setter方法复杂度
sonar.issue.ignore.multicriteria.e1.ruleKey=java:S1200
sonar.issue.ignore.multicriteria.e1.resourceKey=**/entity/**

# 忽略DTO类的字段数量限制
sonar.issue.ignore.multicriteria.e2.ruleKey=java:S1820
sonar.issue.ignore.multicriteria.e2.resourceKey=**/dto/**

# 忽略配置类的某些规则
sonar.issue.ignore.multicriteria.e3.ruleKey=java:S1118
sonar.issue.ignore.multicriteria.e3.resourceKey=**/config/**

# 分析参数
sonar.analysis.mode=publish
sonar.buildString=${BUILD_NUMBER}
sonar.branch.name=${BRANCH_NAME}

# 通知配置
sonar.notifications.delay=30

# 插件配置
sonar.java.libraries=target/dependency/*.jar
sonar.java.binaries=target/classes
sonar.java.test.binaries=target/test-classes

# Maven集成
sonar.maven.projectDependencies=true